<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Food Details</title>
  <!-- Linking external stylesheets -->
  <link rel="stylesheet" href="./css/main.css">
  <link rel="stylesheet" href="./css/header.css">
  <link rel="stylesheet" href="./css/footer.css">
  <script src="./js/header.js"></script>
  <style>
    /* Container styling */
    .details-container {
      display: flex;
      flex-direction: column;
      align-items: center;
      width: 100%;
      margin: 0 auto;
      padding: 0;
      box-sizing: border-box;
    }

    /* Title bar styling */
    .title-bar {
      width: 100%;
      background: #000;
      padding: 20px 0;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      text-align: center;
    }

    /* Title styling */
    .title {
      margin: 0;
      font-size: 36px;
      color: #fff;
    }

    /* Image section styling */
    .image-section {
      width: 100%;
      text-align: center;
      margin-bottom: 20px;
    }

    /* Main image styling */
    .main-image {
      width: 80%;
      height: 600px;
      object-fit: cover;
      border: 2px solid #ddd;
    }

    /* Content section styling */
    .details-content {
      display: flex;
      justify-content: space-between;
      width: 80%;
      margin-top: 20px;
    }

    /* Attributes styling */
    .attributes {
      width: 48%;
      padding: 20px;
      border: 1px solid #ddd;
      border-radius: 10px;
      background: #f9f9f9;
    }

    /* Individual attribute styling */
    .attribute {
      display: flex;
      justify-content: space-between;
      padding: 10px 0;
    }

    .attribute-label {
      font-weight: bold;
    }

    .attribute-value {
      color: #d32f2f;
    }

    /* Technique tag styling */
    .technique {
      background-color: #ffd700;
      padding: 5px 10px;
      border-radius: 5px;
      color: #333;
    }

    /* Description section styling */
    .description-section {
      width: 48%;
      padding: 20px;
      border: 1px solid #ddd;
      border-radius: 10px;
      background: #f9f9f9;
      text-align: left;
    }

    .description {
      margin-bottom: 20px;
    }

    /* Button styling */
    .more-button,
    .even-more-button {
      background: #d32f2f;
      color: white;
      padding: 10px 20px;
      border: none;
      cursor: pointer;
      font-size: 16px;
      border-radius: 5px;
      transition: background 0.3s ease;
    }

    .more-button:hover,
    .even-more-button:hover {
      background: #b71c1c;
    }

    /* Link button styling */
    .even-more-button {
      display: inline-block;
      text-decoration: none;
      text-align: center;
    }

    /* No data message styling */
    .no-data {
      text-align: center;
      margin: 50px;
    }

    .no-data h2 {
      color: #d32f2f;
    }

    .no-data p {
      color: #555;
    }

    /* Responsive styling for smaller screens */
    @media (max-width: 768px) {
      .main-image {
        height: auto;
      }

      .details-content {
        flex-direction: column;
        align-items: center;
      }

      .attributes,
      .description-section {
        width: 100%;
        margin: 0 0 20px 0;
      }

      /* Hide navigation menu by default */
      .nav-menu {
        display: none;
        flex-direction: column;
        text-align: center;
      }

      /* Show menu when active */
      .nav-menu.active {
        display: flex;
      }
    }
  </style>
</head>
<body>

  <!-- Navigation bar at the top -->
  <div class="navbar">
    <div class="logo-container">
      <!-- Logo and project name -->
      <a href="#" class="logo">Lg</a>
      <span class="project-name">Food Museum</span>
    </div>

    <!-- Navigation menu items -->
    <ul class="nav-menu">
      <li><a href="index.html">Home</a></li>
      <li><a href="FoodsView.html">Foods</a></li>
      <li><a href="MapView.html">Map</a></li>
      <li><a href="TeamView.html">Team</a></li>
    </ul>
    
    <!-- Menu toggle button (hamburger icon) -->
    <button class="menu-toggle">☰</button>
  </div>

  <!-- Main content container -->
  <div id="app" class="details-container">
    <!-- Title bar with food name -->
    <div class="title-bar">
      <h1 class="title" id="food-title">Dango</h1>
    </div>

    <!-- Section displaying food image -->
    <div class="image-section">
      <img src="img/Dango.png" alt="Food Image" class="main-image" id="food-image" />
    </div>

    <!-- Content section containing food details -->
    <div class="details-content">
      <!-- Section displaying food attributes (like country, type) -->
      <div class="attributes">
        <h2>About this Dish</h2>
        <!-- Display food ID -->
        <div class="attribute">
          <span class="attribute-label">ID</span>
          <span class="attribute-value" id="food-id"></span>
        </div>
        <!-- Display other attributes -->
        <div class="attribute">
          <span class="attribute-label">Country</span>
          <span class="attribute-value" id="food-country">Japan</span>
        </div>
        <div class="attribute">
          <span class="attribute-label">Type</span>
          <span class="attribute-value" id="food-type">Dessert</span>
        </div>
        <div class="attribute">
          <span class="attribute-label">Period</span>
          <span class="attribute-value" id="food-period">Traditional Food</span>
        </div>
        <div class="attribute">
          <span class="attribute-label">Technique</span>
          <span class="attribute-value technique" id="food-technique">Steamed</span>
        </div>
      </div>

      <!-- Section displaying food description and buttons -->
      <div class="description-section">
        <h2>About the Food</h2>
        <p class="description" id="food-description"></p>

        <!-- Button to toggle more content -->
        <button id="toggle-description" class="more-button">Tell me more...</button>

        <!-- Section for additional details -->
        <div id="more-details-section" style="display: none;">
          <a id="even-more-link" href="#" class="even-more-button">Tell me even more</a>
        </div>
      </div>
    </div>
  </div>

  <!-- Footer section with credits -->
  <footer class="footer">
    <div class="footer-content">
      <p class="footer-text">The purpose of this website is to explore various types of typographic and layout styles
        for museum pages, as an end-of-course project for the "Information Modeling and Web Technologies" course of the
        Master Degree in Digital Humanities and Digital Knowledge of the University of Bologna, under prof. Fabio
        Vitali. The documents contained in this website have been selected...</p>
      <p class="footer-text">All copyrights and related rights on the content remain with their original owners.</p>
      <p class="footer-text">All copyright on the typographic and layout choices are 2024 © Zahra Farajhormozi, Nazanin
        Fakhrian, Ahmadreza Nazari, Yifan Wu.</p>
    </div>
  </footer>

  <script>
    // JSON food data array
    const foodData = [
      {
        "id": 1,
        "name": "Dango",
        "country": "Japan",
        "type": "Dessert",
        "period": "Traditional Food",
        "technique": "Steamed",
        "description": "Dango is a traditional Japanese dessert made from glutinous rice flour, giving it a soft and chewy texture.",
        "image": "img/Dango.png"
      },
      // More food data...
    ];

    // Function to load food details from localStorage and display on the page
    document.addEventListener('DOMContentLoaded', function () {
      // Get the selected food from localStorage
      const food = JSON.parse(localStorage.getItem('selectedFood'));
      
      if (food) {
        // Set the details on the page
        document.getElementById('food-title').innerText = food.name;
        document.getElementById('food-image').src = food.image;
        document.getElementById('food-country').innerText = food.country;
        document.getElementById('food-type').innerText = food.type;
        document.getElementById('food-period').innerText = food.period;
        document.getElementById('food-technique').innerText = food.technique;
        document.getElementById('food-description').innerText = food.description;

        // Set the food ID
        document.getElementById('food-id').innerText = food.id;
      } else {
        console.error('No food data found!');
      }

      // Logic for "Tell me more" button
      const toggleButton = document.getElementById('toggle-description');
      const moreDetailsSection = document.getElementById('more-details-section');

      toggleButton.addEventListener('click', function () {
        if (moreDetailsSection.style.display === 'none' || moreDetailsSection.style.display === '') {
          moreDetailsSection.style.display = 'block'; // Show more content
          toggleButton.innerText = 'Show less...'; // Update button text
        } else {
          moreDetailsSection.style.display = 'none'; // Hide more content
          toggleButton.innerText = 'Tell me more...'; // Update button text
        }
      });

      // Logic for "Tell me even more" button
      const evenMoreButton = document.getElementById('even-more-link');
      evenMoreButton.addEventListener('click', function (event) {
        event.preventDefault(); // Prevent default link behavior
        // Save the current food data to localStorage
        localStorage.setItem('selectedFood', JSON.stringify(food));
        // Redirect to the MoreDetailsPage.html page
        window.location.href = 'MoreDetailsPage.html';
      });
    });
  </script>

</body>
</html>
